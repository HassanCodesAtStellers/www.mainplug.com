<link rel="stylesheet" href="includes/css/Category_Menu.css">

<div class="carousel-container">
    <button class="carousel-arrow carousel-arrow-left">&#10094;</button>
    <div class="category-container">
        <a class="category-item" data-category="models">
            <i class="fas fa-female"></i>
            <span>Models</span>
        </a>
        <a class="category-item" data-category="singers">
            <i class="fas fa-music"></i>
            <span>Singers</span>
        </a>
        <a class="category-item" data-category="rappers">
            <i class="fas fa-guitar"></i>
            <span>Rappers</span>
        </a>
        <a class="category-item" data-category="painters">
            <i class="fas fa-paint-brush"></i>
            <span>Painters</span>
        </a>
        <a class="category-item" data-category="dancers">
            <i class="fas fa-universal-access"></i>
            <span>Dancers</span>
        </a>
        <a class="category-item" data-category="comedy">
            <i class="fas fa-theater-masks"></i>
            <span>Comedy</span>
        </a>
        <a class="category-item" data-category="models">
            <i class="fas fa-female"></i>
            <span>Models</span>
        </a>
        <a class="category-item" data-category="singers">
            <i class="fas fa-music"></i>
            <span>Singers</span>
        </a>
        <a class="category-item" data-category="rappers">
            <i class="fas fa-guitar"></i>
            <span>Rappers</span>
        </a>
        <a class="category-item" data-category="painters">
            <i class="fas fa-paint-brush"></i>
            <span>Painters</span>
        </a>
        <a class="category-item" data-category="dancers">
            <i class="fas fa-universal-access"></i>
            <span>Dancers</span>
        </a>
        <a class="category-item" data-category="comedy">
            <i class="fas fa-theater-masks"></i>
            <span>Comedy</span>
        </a>
        <a class="category-item" data-category="models">
            <i class="fas fa-female"></i>
            <span>Models</span>
        </a>
        <a class="category-item" data-category="singers">
            <i class="fas fa-music"></i>
            <span>Singers</span>
        </a>
        <a class="category-item" data-category="rappers">
            <i class="fas fa-guitar"></i>
            <span>Rappers</span>
        </a>
        <a class="category-item" data-category="painters">
            <i class="fas fa-paint-brush"></i>
            <span>Painters</span>
        </a>
        <a class="category-item" data-category="dancers">
            <i class="fas fa-universal-access"></i>
            <span>Dancers</span>
        </a>
        <a class="category-item" data-category="comedy">
            <i class="fas fa-theater-masks"></i>
            <span>Comedy</span>
        </a>
        <a class="category-item" data-category="models">
            <i class="fas fa-female"></i>
            <span>Models</span>
        </a>
        <a class="category-item" data-category="singers">
            <i class="fas fa-music"></i>
            <span>Singers</span>
        </a>
        <a class="category-item" data-category="rappers">
            <i class="fas fa-guitar"></i>
            <span>Rappers</span>
        </a>
        <a class="category-item" data-category="painters">
            <i class="fas fa-paint-brush"></i>
            <span>Painters</span>
        </a>
        <a class="category-item" data-category="dancers">
            <i class="fas fa-universal-access"></i>
            <span>Dancers</span>
        </a>
        <a class="category-item" data-category="comedy">
            <i class="fas fa-theater-masks"></i>
            <span>Comedy</span>
        </a>
        <a class="category-item" data-category="models">
            <i class="fas fa-female"></i>
            <span>Models</span>
        </a>
        <a class="category-item" data-category="singers">
            <i class="fas fa-music"></i>
            <span>Singers</span>
        </a>
        <a class="category-item" data-category="rappers">
            <i class="fas fa-guitar"></i>
            <span>Rappers</span>
        </a>
        <a class="category-item" data-category="painters">
            <i class="fas fa-paint-brush"></i>
            <span>Painters</span>
        </a>
        <a class="category-item" data-category="dancers">
            <i class="fas fa-universal-access"></i>
            <span>Dancers</span>
        </a>
        <a class="category-item" data-category="comedy">
            <i class="fas fa-theater-masks"></i>
            <span>Comedy</span>
        </a>
        <a class="category-item" data-category="models">
            <i class="fas fa-female"></i>
            <span>Models</span>
        </a>
        <a class="category-item" data-category="singers">
            <i class="fas fa-music"></i>
            <span>Singers</span>
        </a>
        <a class="category-item" data-category="rappers">
            <i class="fas fa-guitar"></i>
            <span>Rappers</span>
        </a>
        <a class="category-item" data-category="painters">
            <i class="fas fa-paint-brush"></i>
            <span>Painters</span>
        </a>
        <a class="category-item" data-category="dancers">
            <i class="fas fa-universal-access"></i>
            <span>Dancers</span>
        </a>
        <a class="category-item" data-category="comedy">
            <i class="fas fa-theater-masks"></i>
            <span>Comedy</span>
        </a>
        <a class="category-item" data-category="models">
            <i class="fas fa-female"></i>
            <span>Models</span>
        </a>
        <a class="category-item" data-category="singers">
            <i class="fas fa-music"></i>
            <span>Singers</span>
        </a>
        <a class="category-item" data-category="rappers">
            <i class="fas fa-guitar"></i>
            <span>Rappers</span>
        </a>
        <a class="category-item" data-category="painters">
            <i class="fas fa-paint-brush"></i>
            <span>Painters</span>
        </a>
        <a class="category-item" data-category="dancers">
            <i class="fas fa-universal-access"></i>
            <span>Dancers</span>
        </a>
        <a class="category-item" data-category="comedy">
            <i class="fas fa-theater-masks"></i>
            <span>Comedy</span>
        </a>
    </div>

    <!-- Right Arrow -->
    <button class="carousel-arrow carousel-arrow-right">&#10095;</button>
</div>

<script>
    const categoryContainer = document.querySelector(".category-container");
    const leftArrow = document.querySelector(".carousel-arrow-left");
    const rightArrow = document.querySelector(".carousel-arrow-right");

    // Track the position of the mouse when the user starts dragging
    let isDragging = false;
    let startX;
    let scrollLeft;

    // Function to update arrow visibility based on scroll position
    function updateArrows() {
        const scrollLeftPosition = categoryContainer.scrollLeft;
        const maxScrollLeft =
            categoryContainer.scrollWidth - categoryContainer.clientWidth;

        // Hide left arrow if no scroll left
        if (scrollLeftPosition <= 0) {
            leftArrow.style.display = "none";
        } else {
            leftArrow.style.display = "block";
        }

        // Hide right arrow if no scroll left to right
        if (scrollLeftPosition >= maxScrollLeft) {
            rightArrow.style.display = "none";
        } else {
            rightArrow.style.display = "block";
        }
    }

    // Initialize arrow visibility
    updateArrows();

    // Dragging functionality
    categoryContainer.addEventListener("mousedown", (e) => {
        isDragging = true;
        startX = e.pageX - categoryContainer.offsetLeft;
        scrollLeft = categoryContainer.scrollLeft;
        categoryContainer.style.cursor = "grabbing";
    });

    categoryContainer.addEventListener("mouseleave", () => {
        isDragging = false;
        categoryContainer.style.cursor = "grab";
    });

    categoryContainer.addEventListener("mouseup", () => {
        isDragging = false;
        categoryContainer.style.cursor = "grab";
    });

    categoryContainer.addEventListener("mousemove", (e) => {
        if (!isDragging) return;
        e.preventDefault();
        const x = e.pageX - categoryContainer.offsetLeft;
        const walk = (x - startX) * 2; // Adjust the speed of scrolling
        categoryContainer.scrollLeft = scrollLeft - walk;
        updateArrows(); // Update arrow visibility during drag
    });

    // Scroll left with smooth behavior
    leftArrow.addEventListener("click", () => {
        categoryContainer.scrollTo({
            left: categoryContainer.scrollLeft - 100, // Scroll left by 100px
            behavior: "smooth", // Smooth scrolling
        });
        updateArrows();
    });

    // Scroll right with smooth behavior
    rightArrow.addEventListener("click", () => {
        categoryContainer.scrollTo({
            left: categoryContainer.scrollLeft + 100, // Scroll right by 100px
            behavior: "smooth", // Smooth scrolling
        });
        updateArrows();
    });

    // Update arrows on scroll
    categoryContainer.addEventListener("scroll", updateArrows);
</script>